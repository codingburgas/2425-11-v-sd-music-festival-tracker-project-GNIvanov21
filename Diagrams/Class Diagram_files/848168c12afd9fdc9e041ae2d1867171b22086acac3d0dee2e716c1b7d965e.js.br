var UclJn={"font-weight":"500","font-style":"normal","font-stretch":"normal"},UcmJn=class{constructor(){this.icons={nLb:UcIu,close:UcRu};this.ha={close:i18n.get("button-close"),Wd:i18n.get("estimation-shape-bank-onboarding-header"),description:i18n.get("estimation-shape-bank-onboarding-description")};this.sDk=""}get KEa(){return this.sDk}};
UcmJn.sa=[{type:Uc_,args:[{selector:"lucid-estimation-shape-bank-onboarding-callout",templateUrl:"./estimationshapebankonboardingcallout.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc7,Uc8,Uc6,Ucez]}]}];UcmJn.Za={close:[{type:Uc0}]};UcmJn.ra=function(a){return new (a||UcmJn)};
UcmJn.Ia=UcH({type:UcmJn,Ea:[["lucid-estimation-shape-bank-onboarding-callout"]],inputs:{close:"close"},Ca:!0,features:[UcW],Ja:8,Ha:8,La:[[1,"estimation-onboarding-header"],[1,"title"],[1,"icon",3,"icon"],[3,"level","text"],["data-test-id","estimation-shape-bank-onboarding-close-button",3,"iconRef","ariaLabel","lucidClickIdentifier","lucidClick"],["alt","",1,"estimation-onboarding-gif",3,"src"],[1,"estimation-onboarding-description"]],template:function(a,b){a&1&&(UcP(0,"header",0)(1,"div",1),UcR(2,
"lucid-icon",2)(3,"lucid-heading",3),UcQ(),UcP(4,"lucid-button",4),UcS("lucidClick",function(){return b.close()}),UcQ()(),UcR(5,"img",5),UcP(6,"div",6),UcV(7),UcQ());a&2&&(UcL(2),UcO("icon",b.icons.nLb),UcL(1),UcO("level",4)("text",b.ha.Wd),UcL(1),UcO("iconRef",b.icons.close)("ariaLabel",b.ha.close)("lucidClickIdentifier","estimation-shape-bank-onboarding-close"),UcL(1),UcO("src",b.KEa,UcIx),UcL(2),Uc2x(b.ha.description))},Ka:[Uc7,UckD,Uc8,UcoE,Uczy,Uc6,Uc2C,Ucez,Uc2y],styles:["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:8px 16px 16px;background-color:var(--lucid-design-token-primary-background-color-css-var,#fff);width:232px;border-radius:8px;gap:16px}.estimation-onboarding-header[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.estimation-onboarding-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-line-pack:center;align-content:center;gap:8px}.estimation-onboarding-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--lucid-design-token-button-secondary-button-text-color-css-var,var(--lucid-design-token-interaction-fill-color-css-var,#3c41c2))}.estimation-onboarding-gif[_ngcontent-%COMP%]{border-radius:8px}.estimation-onboarding-description[_ngcontent-%COMP%]{font-size:var(--paragraph-font-size-css-var,14px);line-height:20px;font-weight:var(--lucid-theme-bold-font-weight,600);font-weight:var(--lucid-theme-normal-font-weight,400);font-style:normal;font-stretch:normal;white-space:pre-wrap}"],
changeDetection:0});const UcnJn={x1g:1,Afa:2};UcnJn[UcnJn.x1g]="StoryPoint";UcnJn[UcnJn.Afa]="TshirtSize";function UcoJn(a,b){return Uca(function*(){const c=UcNo(a);var d=b instanceof Uc6Ml?UcnJn.x1g:b instanceof Uc$Ml?UcnJn.Afa:void 0;if(d){const {messageId:e,KEa:f}=a.dRb[d];(yield Uczr(a.fi,a.Wm,c))||(yield a.pm.showMessage(new Uctk({Ll:Uckj.Yud,messageId:e,tg:Ucjj.Ot,zx:"CloseExistingAndShow",Kx:Ucrk,controller:a,nv:{KEa:f,nd:b.id}})),yield a.fi.sg(a.Wm,c))}})}
var UcpJn=class extends Ucg{constructor(){super(...arguments);this.selection=Ucu(Uc8K);this.fi=Ucv(Ucsg);this.pm=Ucu(UcoF);this.pn=Ucu(UcBp);this.mem=Ucu(UcOqi);this.Wm=Uck.ptf;this.Fa=new Ucyp(this);this.vda=()=>{const a=this;return Uca(function*(){const b=UcJK(a.selection.items);b&&(yield UcoJn(a,b))})};this.Tql=a=>{const b=this;return Uca(function*(){yield UcoJn(b,a.$aa)})};this.dRb={[UcnJn.x1g]:{messageId:"StoryPointEstimationOnboarding",KEa:Ucum+"/onboarding/estimation-shape-bank/storypoint.gif"},
[UcnJn.Afa]:{messageId:"TshirtSizeEstimationOnboarding",KEa:Ucum+"/onboarding/estimation-shape-bank/tshirtsize.gif"}}}init(){const a=this;return Uca(function*(){(yield Uczr(a.fi,Uck.ptf,UcNo(a)))||(Uc3K(a.selection,a.Fa,Uc4K.id,a.vda),a.Fa.listen(a.mem,UcPqi.id,a.Tql),a.Yf(()=>{Uc0Sg(a.selection,a.Fa,a.vda);a.Fa.Fi(a.mem,UcPqi.id,a.Tql)}))})}showMessage(a,b,c){this.um=this.pn.Cm({Gl:UcmJn,nd:a.nd,Ep:e=>{e.instance.sDk=a.KEa;e.instance.close=()=>this.bJ();null==b||b()},oz:"right",hZa:!1});let d;null==
(d=this.um)||d.M4.then(()=>null==c?void 0:c())}bJ(){let a;null==(a=this.um)||a.close();this.um=void 0}};function UcqJn(a,b){return Uca(function*(){if((yield Uczr(a.fi,Uck.ptf,UcNo(a)))&&!(yield Uczr(a.fi,Uck.q0g,UcNo(a)))&&!UcgL(a.We)){var c,d,e=null==(c=a.Xm.ab())?void 0:null==(d=c.blocks.get(b))?void 0:d.Na.value;e&&(c=new Uc_p({position:new Ucl(e.x+e.w/2,e.y+e.h),message:a.j_i,direction:Uc3g.Of,maxWidth:232}),c.yKa=!1,UcfL(a.We,c,Ucib.BA),yield a.fi.sg(Uck.q0g))}})}
var UcsJn=class extends UcWn{constructor(){super();this.Fa=new Ucyp(this);this.FAg=Ucu(Uc3Nc);this.selection=Ucu(Uc8K);this.OG=Ucu(Ucurh);this.Rsa=Ucu(UckA);this.rY=Ucu(UcpM);this.Xm=Ucu(UcrM);this.fi=Ucv(Ucsg);this.nc=Ucv(Uc6r);this.j_i=[{message:i18n.get("team-estimation-tooltip-title"),style:Object.assign({},UcrJn,UclJn)},{message:i18n.get("team-estimation-tooltip-description"),style:Object.assign({},UcrJn,UcSga,{"padding-bottom":"16px"})}];this.We=Ucu(UcdL).create(this)}init(){this.Fa.listen(this.FAg,
Uc2Nc.id,this.qIk);this.Yf(()=>{this.Fa.Fi(this.FAg,Uc2Nc.id,this.qIk);this.We.ev()})}qIk(){const a=this;return Uca(function*(){{var b=a.Xm.ab();const c=a.selection.items.WRa.value;b=b&&c?UcqM(a.rY,{page:b,size:c,cAh:[Uc0b.bf],cia:Uct.center(c)}):void 0}b?(b=a.OG.OG(Uc6Ml.className,Uc5Ml.w,Uc5Ml.h,Uc7Ml(a.Rsa),b.x,b.y))?(a.selection.Dl([b]),yield UcqJn(a,b)):a.nc.handleError({error:Error("Failed to add story point shape bank block to canvas"),severity:UcRi.Zb}):a.nc.handleError({error:Error("Failed to calculate position for story point shape bank block"),
severity:UcRi.Zb})})}};const UcrJn={display:"block","text-align":"left",padding:"4px"};UcTK("estimationview","estimation",class extends Ucg{constructor(){const a=Ucu(UcXxk),b=Ucu(UcpJn),c=Ucu(UcsJn);super();a.register({sYe:[UcFg.$tf,UcFg.$uf]});b.init();c.init()}});
//# sourceURL=/js/application/universalcanvas_app/chunk/estimationview.js?compiled=1
