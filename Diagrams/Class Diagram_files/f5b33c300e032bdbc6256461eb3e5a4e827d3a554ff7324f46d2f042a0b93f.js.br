Uc_A.prototype.v5c=Ucca(240,function(a){a=UcDk(a);if(void 0!=a)return this.PG.get(a)});UcLL.prototype.v5c=Ucca(239,function(a){return this.M2n.value.get(a)});function UcnYm(a,b){a.fth&&a.nc.handleError({error:Error("attempted to register additional create person shape handler"),severity:UcRi.rd});a.fth=b}function UcoYm(a,b){a.Kif()||a.Fed.Jo(b)}function UcpYm(){return{uV:"",text:void 0,fillColor:UcLm,Ua:Ucp}}
var UcqYm=class{getItem(a){let b;return{id:null==(b=UcCk(a.$e))?void 0:b.toString(),value:a,Oc:"click-person-shape-search-result"}}};var UcrYm=class extends Ucig{constructor(a,b,c){super(UcrYm.id);this.Ztb=a;this.VZh=b;this.qc=c}};UcrYm.id=Ucaf(UcrYm);var UcsYm=class extends Ucig{constructor(){super(UcsYm.id)}};UcsYm.id=Ucaf(UcsYm);function UctYm(a,b,c,d){a.dispatchEvent(new UcrYm(b,c,d))}var UcuYm=class extends UcWn{};var UcvYm=class{constructor(){this.a_c=Ucu(Uc7sf)}ICd(a,b){const c=this;return Uca(function*(){const d=b.$e?yield Uc6sf(c.a_c,b):{uV:"",text:void 0,fillColor:UcLm.WV,Ua:Ucp.WV};a.uV.Qa(d.uV);var e=Uc1s(d.fillColor);a.setFillColor(e);e=Uco(d.Ua);a.eF(e);let f,g;null==(f=a.Ub.value.get(UcHz.key))||f.setContent(null!=(g=d.text)?g:"")})}};var UcwYm=class{constructor(){this.hc=Ucu(UcdF)}};var UcxYm=class extends Ucg{constructor(){super();this.Vh=Ucu(Uc_A);this.Tsc=Ucu(UczXf);this.m8b=new UcPXd(this);this.x9a=new Ucx(this,"",Ucd);this.lm=new Ucw(this,()=>{const a=this.m8b.results.value.map(d=>{let e;return{$e:Uczk(d.userId),name:d.co(),email:null!=(e=d.email)?e:""}}),b=this.Tsc.Qoa().map(d=>({$e:Uczk(d.getId()),name:d.getFullName(),email:d.email})).filter(d=>!a.some(e=>d.$e===e.$e)),c=[];this.x9a.value||c.push({$e:"",name:"",email:""});return[...c,...a,...b]},Uc9h);this.psg()}psg(){const a=
this.Vh.HJk.value.filter(Ucjt).map(b=>new Ucvh(b.co(),b,void 0,void 0,[b.email].filter(Uc$c)));Uc2Xh(this.m8b,a,this.m8b.ze)}search(a){this.m8b.search(a);this.Tsc.search(a);this.x9a.value=a}};function UcyYm(a){if(a&1){const b=UcI();UcP(0,"div",1)(1,"lucid-button",2);UcS("lucidClick",function(){UcJ(b);const c=UcT(),d=c.Ztb.value;d&&(c.ICd.ICd(d,{$e:c.user.qq(),name:c.user.Sd(),email:c.user.Cx()}),c.hR());return UcK(void 0)});UcQ()()}a&2&&(a=UcT(),UcL(1),UcO("iconRef",a.icons.kcn)("label",a.ha.assign)("lucidClickIdentifier","profile-shape-assign-me"))}
var UczYm=class extends Ucg{constructor(){super();this.user=UcF(Uc2D);this.ICd=UcF(UcvYm);this.Ztb=new Ucx(this,void 0,Ucd);this.icons={kcn:Ucbpl};this.ha={assign:i18n.get("profile-shape-assign-your-profile")};this.hR=()=>{}}Dd(a,b){this.Ztb.setValue(a);this.hR=b}};UczYm.sa=[{type:Uc_,args:[{selector:"lucid-profile-shape-assign-me-callout",Ca:!0,templateUrl:"./profileshapeassignmecallout.component.html",changeDetection:UcG.OnPush,imports:[Uc3,Uc7,Uc8,Uc5]}]}];UczYm.Ga=()=>[];
UczYm.ra=function(a){return new (a||UczYm)};
UczYm.Ia=UcH({type:UczYm,Ea:[["lucid-profile-shape-assign-me-callout"]],Ca:!0,features:[UcM,UcW],Ja:2,Ha:3,La:[["class","callout-container",4,"ngIf"],[1,"callout-container"],["data-test-id","profile-shape-assign-me",1,"lucid-button-tertiary",3,"iconRef","label","lucidClickIdentifier","lucidClick"]],template:function(a,b){a&1&&(UcN(0,UcyYm,2,3,"div",0),UcX(1,"lucidPipeValue"));a&2&&UcO("ngIf",UcY(1,1,b.Ztb))},Ka:[Uc3,Uc2,Uc7,UckD,Uc8,UcoE,Uczy,Uc5,Uc3B],styles:[".callout-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:8px;padding:8px;background:var(--lucid-design-token-primary-background-color-css-var,#fff)}"],
changeDetection:0});UczYm=__decorate([UcSc,__metadata("design:paramtypes",[])],UczYm);var UcAYm=class extends Ucg{constructor(){super();this.pn=Ucu(UcBp);this.VZd=Ucu(UcuYm);this.user=Ucu(Uc2D);this.Fa=new Ucyp(this)}init(){this.user.iq()||(this.Fa.listen(this.VZd,UcrYm.id,a=>{this.show(a.Ztb,a.VZh,a.qc)}),this.Fa.listen(this.VZd,UcsYm.id,()=>{this.close()}))}show(a,b,c){let d;null==(d=this.um)||d.close();this.um=this.pn.Cm({Gl:UczYm,Ep:e=>{e.instance.Dd(a,()=>this.close())},nca:new Ucqr(b,this),oz:["top"],$H:!0,UGa:!0,Sfa:!0});this.HL=c}close(){let a;null==(a=this.um)||a.close();
this.um=void 0;this.HL&&this.HL();this.HL=void 0}};var UcBYm=class{constructor(){this.pna=Ucu(Uc_jf);this.gic=Ucu(Uc1Mc);this.ip=Ucu(Uc_w);this.dm=Ucu(UcvH)}Srb(a){const b=this;return Uca(function*(){a&&(yield b.sdi(a),b.gic.dispatchEvent(new Uc2Mc(UcSF.kU)))})}sdi(a){const b=this;return Uca(function*(){var c=yield UcAZh(b.pna,a);c&&(c=Uclie(b.ip,c),b.dm.clear(),b.dm.RB.add(c))})}};var UcCYm=UcCYm||{id:"cake/app/webroot/ts/libraries/peopleview/personshapesearchmenu/personshapesearchmenu.component.closure.js"};
function UcDYm(a){if(a&1){const b=UcI();UcP(0,"lucid-fuzzy-search-menu",2);UcS("itemSelected",function(c){UcJ(b);const d=UcT();return UcK(d.xli.emit(c))});UcX(1,"lucidPipeValue");UcQ()}if(a&2){a=UcT();const b=UcUx(3);UcO("fuzzySearchResults",UcY(1,11,a.LHc.lm))("resultMenuItemFactory",a.MNp)("anchorElement",a.anchor)("show",!0)("showOnClick",!0)("customItemTemplate",b)("repositionTrigger",a.NL)("menuWidth",240)("menuOffset",a.Epa)("shouldPositionMenuAboveTrigger",a.reb)("keyDownEvent",a.nCh)}}
function UcEYm(a){a&1&&UcR(0,"lucid-collaborator-search-menu-item",5);a&2&&(a=UcT().Oa,UcO("itemId",a.id)("name",a.value.name)("email",a.value.email))}function UcFYm(a){a&1&&(UcP(0,"div",7),UcR(1,"lucid-icon",8),UcP(2,"div")(3,"div",9),UcV(4),UcQ(),UcP(5,"div",10),UcV(6),UcQ()()());a&2&&(a=UcT(3),UcL(1),UcO("icon",a.icons.Mwa),UcL(3),Uc2x(a.ha.JDa),UcL(2),Uc2x(a.ha.Tjo))}function UcGYm(a){a&1&&UcN(0,UcFYm,7,3,"div",6);a&2&&(a=UcT(2),UcO("ngIf",a.gNi))}
function UcHYm(a,b){a&1&&(UcN(0,UcEYm,1,3,"lucid-collaborator-search-menu-item",3),UcN(1,UcGYm,1,1,"ng-template",null,4,Uchy));a&2&&(a=b.Oa,b=UcUx(2),UcO("ngIf",a.value.$e)("ngIfElse",b))}var UcIYm=class{constructor(){this.gNi=!0;this.Epa={x:0,y:0};this.reb=!1;this.nCh=void 0;this.xli=new UcZ;this.LHc=UcF(UcxYm);this.icons={Mwa:UcDu};this.ha={JDa:i18n.get("people-shape-change-person-default-title"),Tjo:i18n.get("people-shape-change-person-default-subtitle")};this.MNp=new UcqYm;this.LHc.psg()}};
UcIYm.sa=[{type:Uc_,args:[{Ri:UcCYm.id,selector:"lucid-person-shape-search-menu",templateUrl:"./personshapesearchmenu.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc3,Uc1I,UcuI,Uc6,Uc5]}]}];UcIYm.Ga=()=>[];UcIYm.Za={anchor:[{type:Uc0,args:[{required:!0}]}],gNi:[{type:Uc0}],NL:[{type:Uc0}],Epa:[{type:Uc0}],reb:[{type:Uc0}],nCh:[{type:Uc0}],xli:[{type:Uc1}]};UcIYm.ra=function(a){return new (a||UcIYm)};
UcIYm.Ia=UcH({type:UcIYm,Ea:[["lucid-person-shape-search-menu"]],inputs:{anchor:"anchor",gNi:"showBlankItem",NL:"repositionTrigger",Epa:"menuOffset",reb:"shouldPositionMenuAboveTrigger",nCh:"downUpKeyEvent"},outputs:{xli:"onItemSelected"},Ca:!0,features:[UcW],Ja:4,Ha:3,La:[[3,"fuzzySearchResults","resultMenuItemFactory","anchorElement","show","showOnClick","customItemTemplate","repositionTrigger","menuWidth","menuOffset","shouldPositionMenuAboveTrigger","keyDownEvent","itemSelected",4,"ngIf"],["resultTemplate",
""],[3,"fuzzySearchResults","resultMenuItemFactory","anchorElement","show","showOnClick","customItemTemplate","repositionTrigger","menuWidth","menuOffset","shouldPositionMenuAboveTrigger","keyDownEvent","itemSelected"],["class","lucid-avatar-outline-bold",3,"itemId","name","email",4,"ngIf","ngIfElse"],["blank",""],[1,"lucid-avatar-outline-bold",3,"itemId","name","email"],["class","default-person-row",4,"ngIf"],[1,"default-person-row"],[1,"default-person-circle",3,"icon"],[1,"default-person-title"],
[1,"default-person-subtitle"]],template:function(a,b){a&1&&(UcN(0,UcDYm,2,13,"lucid-fuzzy-search-menu",0),UcX(1,"lucidPipeValue"),UcN(2,UcHYm,3,2,"ng-template",null,1,Uchy));a&2&&UcO("ngIf",UcY(1,1,b.LHc.lm).length)},Ka:[Uc3,Uc2,Uc1I,UcVI,UcuI,UcDH,Uc6,Uc2C,Uc5,Uc3B],styles:[".default-person-subtitle[_ngcontent-%COMP%], .default-person-title[_ngcontent-%COMP%]{font-size:var(--paragraph-font-size-css-var,14px);line-height:20px;font-style:normal;font-stretch:normal}.default-person-row[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:48px}.default-person-circle[_ngcontent-%COMP%]{border-radius:50%;background-color:var(--lucid-design-token-void-background-color-css-var,#ced4db);height:32px;width:32px;margin-left:4px;margin-right:8px;-ms-flex-line-pack:center;align-content:center;text-align:center}.default-person-title[_ngcontent-%COMP%]{font-weight:var(--lucid-theme-normal-font-weight,400);font-weight:var(--lucid-theme-bold-font-weight,600)}.default-person-subtitle[_ngcontent-%COMP%]{font-weight:var(--lucid-theme-bold-font-weight,600);font-weight:var(--lucid-theme-normal-font-weight,400)}"],
changeDetection:0});var UcJYm=class extends Uc2n{constructor(){super(...arguments);this.selection=Ucu(Uc8K);this.user=Ucu(Uc2D);this.cd=new Ucw(this,()=>{const a=UcJK(this.selection.items);return a instanceof Uchpl?a:void 0},Ucd);this.oi=new Ucw(this,()=>!!this.ab(),Ucd);this.$e=new Ucw(this,()=>{let a,b;return null!=(b=null==(a=this.ab())?void 0:a.uV.value)?b:void 0},Ucd);this.Kap=new Ucw(this,()=>this.$e.value===this.user.qq(),Ucd);this.Jrl=new Ucw(this,()=>!!this.$e.value,Ucd)}};var UcKYm=class extends Uc2n{constructor(){super(...arguments);this.Ztb=Ucu(UcJYm);this.permissions=Ucu(UcyK);this.uL=Ucu(Uclt);this.Vh=Ucu(Uc_A);this.jt=Ucu(UcLL);this.cd=new Ucw(this,()=>{if(!this.permissions.kGf.value||this.uL.ab())return!1;const a=this.Ztb.$e.value;return a?!(this.Vh.v5c(a)||this.jt.v5c(a)):!1},Ucd)}};function UcLYm(a,b,c=""){a.RH.execute({VLa:c?`[${c}] `:"",item:b,t4a:!0})}function UcMYm(a,b){Uca(function*(){const c=null==b?void 0:b.uV.value;if(b&&c)if(UcjXg(a.Ne,b.id))UcLYm(a,b);else{var d,e,f=null==(e=null!=(d=yield UcAZh(a.pna,c))?d:a.Vh.v5c(c))?void 0:e.email;f?UcLYm(a,b,f):UcLYm(a,b)}})}var UcNYm=class{constructor(){this.pna=Ucu(Uc_jf);this.Ne=Ucu(UcqL);this.RH=Ucu(Ucuih);this.Vh=Ucu(Uc_A)}};var UcOYm=UcOYm||{id:"cake/app/webroot/ts/libraries/peopleview/updatephotoformatcontrol/updatephotoformatcontrol.component.closure.js"};function UcPYm(a){if(a&1){const b=UcI();UcP(0,"lucid-floating-action-button-item",1);UcS("pointerenter",function(){UcJ(b);const c=UcT();return UcK(c.Msi())})("lucidClick",function(){UcJ(b);const c=UcT();return UcK(c.g$())});UcQ()}a&2&&(a=UcT(),UcO("icon",a.icons.GK)("tooltip",a.ha.GK)("lucidClickIdentifier","people-update-photo-button"))}
var UcQYm=class{constructor(){this.g3a=UcF(UcJYm);this.Iqd=UcF(UcNZe);this.user=UcF(Uc2D);this.$a=UcF(UcPB);this.ha={GK:i18n.get("people-shape-update-photo-tooltip")};this.icons={GK:Ucsu};this.isVisible=this.g3a.Kap}Msi(){this.Iqd.PM()}g$(){UcLZe(this.Iqd);this.$a.fireEvent(new UcRbc({method:UcIVb.lLm,userId:this.user.getId()}))}};
UcQYm.sa=[{type:Uc_,args:[{Ri:UcOYm.id,selector:"lucid-update-photo-format-control",templateUrl:"./updatephotoformatcontrol.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc3,UcLH,Uc8,Uc5]}]}];UcQYm.ra=function(a){return new (a||UcQYm)};
UcQYm.Ia=UcH({type:UcQYm,Ea:[["lucid-update-photo-format-control"]],Ca:!0,features:[UcW],Ja:2,Ha:3,La:[["data-test-id","update-photo-button",3,"icon","tooltip","lucidClickIdentifier","pointerenter","lucidClick",4,"ngIf"],["data-test-id","update-photo-button",3,"icon","tooltip","lucidClickIdentifier","pointerenter","lucidClick"]],template:function(a,b){a&1&&(UcN(0,UcPYm,1,3,"lucid-floating-action-button-item",0),UcX(1,"lucidPipeValue"));a&2&&UcO("ngIf",UcY(1,1,b.isVisible))},Ka:[Uc3,Uc2,UcLH,Uc8,UcoE,
Uczy,Uc5,Uc3B],Me:2,changeDetection:0});var UcRYm=class extends Ucg{constructor(){super();this.ezd=Ucu(Uc4ol);this.Fa=new Ucyp(this);this.REb=!1}initialize(){this.REb||(this.REb=!0,this.Fa.listen(this.ezd,Uc3ol.id,a=>{if(a.tZb instanceof Ucppl){var b=a.tZb;a=a.items;for(const d of a)if(d instanceof Uchpl){a=b;let e=void 0,f=void 0,g=void 0,h=void 0;var c={uV:null!=(h=d.uV.value)?h:"",text:null!=(g=UcDw(d))?g:"",fill:null!=(f=d.properties.fillColor.value)?f:UcLm,Ua:null!=(e=d.properties.Ua.value)?e:Ucp};UcoYm(a,c)}}}))}};function UcSYm(){function a(b,c){return c.filter(d=>d instanceof Ucppl).sort((d,e)=>e.properties.Re.value-d.properties.Re.value).map(d=>{const e=d.W6c(b);if(e)return{block:d,bJi:e}}).filter(Uce)[0]}return[{label:i18n.get("profile-shape-bank-delete-shape-bank-item"),vo:"profileShapeBankBlock.contextMenu.deleteShapeBankItem",visible:(b,c)=>Uce(a(b,c)),action:(b,c)=>{if(c=a(b,c))b=c.block.Fed,(c=b.yGb.value[c.bJi.X1a])&&b.AY(c)}}]};var UcTYm=UcTYm||{id:"cake/app/webroot/ts/libraries/peopleview/invitepersonformatcontrol/invitepersonformatcontrol.component.closure.js"};function UcUYm(a){if(a&1){const b=UcI();UcP(0,"lucid-floating-action-button-item",1);UcS("lucidClick",function(){UcJ(b);const c=UcT();c.u7o.Srb(c.g3a.$e.value);return UcK(void 0)});UcQ()}a&2&&(a=UcT(),UcO("icon",a.icons.Srb)("tooltip",a.ha.Srb)("lucidClickIdentifier","people-invite-person-button"))}
var UcVYm=class{constructor(){this.g3a=UcF(UcJYm);this.zWn=UcF(UcKYm);this.u7o=UcF(UcBYm);this.ha={Srb:i18n.get("people-shape-invite-tooltip")};this.icons={Srb:UcLu};this.isVisible=this.zWn.cd}};UcVYm.sa=[{type:Uc_,args:[{Ri:UcTYm.id,selector:"lucid-invite-person-format-control",templateUrl:"./invitepersonformatcontrol.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc3,UcLH,Uc8,Uc5]}]}];UcVYm.ra=function(a){return new (a||UcVYm)};
UcVYm.Ia=UcH({type:UcVYm,Ea:[["lucid-invite-person-format-control"]],Ca:!0,features:[UcW],Ja:2,Ha:3,La:[["data-test-id","invite-person-button",3,"icon","tooltip","lucidClickIdentifier","lucidClick",4,"ngIf"],["data-test-id","invite-person-button",3,"icon","tooltip","lucidClickIdentifier","lucidClick"]],template:function(a,b){a&1&&(UcN(0,UcUYm,1,3,"lucid-floating-action-button-item",0),UcX(1,"lucidPipeValue"));a&2&&UcO("ngIf",UcY(1,1,b.isVisible))},Ka:[Uc3,Uc2,UcLH,Uc8,UcoE,Uczy,Uc5,Uc3B],Me:2,changeDetection:0});function UcWYm(a){return Uca(function*(){if(!a.user.iq()){var b,c=null==(b=a.Xm.ab())?void 0:b.blocks.Rb().filter(d=>d instanceof Ucppl&&0===Ucczj(d));c&&(yield Ucppf(a.NRa),yield UcXYm(a,c))}})}function UcXYm(a,b){return Uca(function*(){const c=[UcpYm(),yield Uc5sf(a.a_c,{$e:a.user.qq(),name:a.user.Sd(),email:a.user.Cx()})];Uceje(a.Cb,()=>{b.forEach(d=>c.forEach(e=>UcoYm(d,{uV:e.uV,text:e.text?e.text.t:"",fill:e.fillColor,Ua:e.Ua})))})})}
var UcYYm=class extends Ucg{constructor(){super(...arguments);this.Fa=new Ucyp(this);this.Xm=Ucu(UcrM);this.user=Ucu(Uc2D);this.a_c=Ucu(Uc7sf);this.Yzf=Ucu(Uc5ol);this.WAg=Ucu(UcgNc);this.Bd=Ucu(UcFs);this.lq=Ucu(Ucjs);this.NRa=Ucu(Ucqpf);this.Cb=Ucu(Uc1w);this.REb=!1}initialize(){this.REb||(this.REb=!0,this.Fa.listen(this.Yzf,Uc6ol.id,this.Iql),this.Fa.listen(this.WAg,UchNc.id,this.s1f),this.Yf(()=>{this.Fa.Fi(this.Yzf,Uc6ol.id,this.Iql);this.Fa.Fi(this.WAg,UchNc.id,this.s1f)}),UcEs(this.Bd,this.Fa,
()=>{const a=this;return Uca(function*(){yield Ucio(UcNo(a));a.lq.IEa()&&(yield UcWYm(a))})}))}Iql({tZb:a}){const b=this;return Uca(function*(){!b.user.iq()&&0===Ucczj(a)&&(yield UcXYm(b,[a]))})}s1f(a){const b=this;return Uca(function*(){if(!b.user.iq()){var c=b.Xm.ab();if(c){var d=[];for(const e of a.params.GCc){const f=c.blocks.get(e);f instanceof Ucppl&&0===Ucczj(f)&&d.push(f)}d&&(yield UcXYm(b,d))}}})}};var UcZYm=UcZYm||{id:"cake/app/webroot/ts/libraries/peopleview/personcommentthreadformatcontrol/personcommentthreadformatcontrol.component.closure.js"};function Uc_Ym(a){if(a&1){const b=UcI();UcP(0,"lucid-floating-action-button-item",1);UcS("lucidClick",function(){UcJ(b);const c=UcT();UcMYm(c.LNp,c.g3a.ab());return UcK(void 0)});UcQ()}a&2&&(a=UcT(),UcO("icon",a.icons.comment)("tooltip",a.ha.comment)("lucidClickIdentifier","person-start-comment-thread-button"))}
var Uc0Ym=class{constructor(){this.g3a=UcF(UcJYm);this.LNp=UcF(UcNYm);this.ha={comment:i18n.get("spark-control-comment-tooltip")};this.icons={comment:Ucju};this.isVisible=this.g3a.Jrl}};Uc0Ym.sa=[{type:Uc_,args:[{Ri:UcZYm.id,selector:"lucid-person-comment-thread-format-control",templateUrl:"./personcommentthreadformatcontrol.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc3,UcLH,Uc8,Uc5]}]}];Uc0Ym.ra=function(a){return new (a||Uc0Ym)};
Uc0Ym.Ia=UcH({type:Uc0Ym,Ea:[["lucid-person-comment-thread-format-control"]],Ca:!0,features:[UcW],Ja:2,Ha:3,La:[["data-test-id","person-start-comment-thread-button",3,"icon","tooltip","lucidClickIdentifier","lucidClick",4,"ngIf"],["data-test-id","person-start-comment-thread-button",3,"icon","tooltip","lucidClickIdentifier","lucidClick"]],template:function(a,b){a&1&&(UcN(0,Uc_Ym,1,3,"lucid-floating-action-button-item",0),UcX(1,"lucidPipeValue"));a&2&&UcO("ngIf",UcY(1,1,b.isVisible))},Ka:[Uc3,Uc2,UcLH,
Uc8,UcoE,Uczy,Uc5,Uc3B],Me:2,changeDetection:0});var Uc1Ym=Uc1Ym||{id:"cake/app/webroot/ts/libraries/peopleview/profileshapebank/profileshapebanksearch/profileshapebanksearch.component.closure.js"};function Uc2Ym(a,b){return Uca(function*(){if(a.tZb){var {uV:c,text:d,fillColor:e,Ua:f}=yield Uc5sf(a.a_c,b.value);if(c)UcoYm(a.tZb,{uV:c,text:d?d.t:"",fill:e,Ua:f});else{const g=UcpYm();UcoYm(a.tZb,{uV:g.uV,text:"",fill:g.fillColor,Ua:g.Ua})}}a.hR()})}
var Uc3Ym=class{constructor(){this.zone=UcF(Ucny);this.rb=UcF(Ucpy);this.a_c=UcF(Uc7sf);this.LHc=UcF(UcxYm);this.position=UcF(UcxM);this.ha={search:i18n.get("people-shape-change-person-search")};this.hR=()=>{}}Dd(a,b){this.tZb=a;this.hR=b;this.LHc.search("")}I_(a){switch(a.key){case "ArrowUp":case "ArrowDown":case "Enter":this.a2a=a,this.zone.run(()=>this.rb.markForCheck())}}};
Uc3Ym.sa=[{type:Uc_,args:[{Ri:Uc1Ym.id,selector:"lucid-profile-shape-bank-search",templateUrl:"./profileshapebanksearch.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc3,Uc$H,UcIYm,Uc5]}]}];Uc3Ym.ra=function(a){return new (a||Uc3Ym)};
Uc3Ym.Ia=UcH({type:Uc3Ym,Ea:[["lucid-profile-shape-bank-search"]],Ca:!0,features:[UcW],Ja:5,Ha:10,La:[["fuzzySearchAnchor",""],[1,"search-input","lucid-input-stretched-height",3,"placeholder","deprecatedPlaceholder","ariaLabel","autoFocus","isSearch","valueChange","onKeydown"],[3,"anchor","repositionTrigger","downUpKeyEvent","onItemSelected"]],template:function(a,b){a&1&&(UcP(0,"div",null,0)(2,"lucid-input",1),UcS("valueChange",function(c){return b.LHc.search(c)})("onKeydown",function(c){return b.I_(c)}),
UcQ()(),UcP(3,"lucid-person-shape-search-menu",2),UcS("onItemSelected",function(c){return Uc2Ym(b,c)}),UcX(4,"lucidPipeValue"),UcQ());a&2&&(a=UcUx(1),UcL(2),UcO("placeholder",b.ha.search)("deprecatedPlaceholder",!1)("ariaLabel",b.ha.search)("autoFocus",!0)("isSearch",!0),UcL(1),UcO("anchor",a)("repositionTrigger",UcY(4,8,b.position.NL))("downUpKeyEvent",b.a2a))},Ka:[Uc3,Uc$H,UckH,UcIYm,Uc5,Uc3B],styles:[".search-input[_ngcontent-%COMP%]{width:240px;border-radius:8px}"],changeDetection:0});var Uc4Ym=class extends Ucg{constructor(){super(...arguments);this.Nni=Ucu(Uc8ol);this.pn=Ucu(UcBp);this.Fa=new Ucyp(this);this.REb=!1}initialize(){this.REb||(this.REb=!0,this.Fa.listen(this.Nni,Uc7ol.id,a=>this.show(a.tZb,a.ob)))}show(a,b){this.um=this.pn.Cm({Gl:Uc3Ym,oz:["bottom","top"],$H:!0,nca:new Ucqr({box:Uct.fromPoint(b,1),pageId:a.page.value.id},this),Ep:c=>c.instance.Dd(a,()=>this.close())})}close(){let a;null==(a=this.um)||a.close();this.um=void 0}};var Uc5Ym=Uc5Ym||{id:"cake/app/webroot/ts/libraries/peopleview/changepersonformatcontrol/changepersonformatcontrol.component.closure.js"};function Uc6Ym(){return{x:0,y:12}}
function Uc7Ym(a){if(a&1){const b=UcI();UcP(0,"lucid-person-shape-search-menu",5);UcS("onItemSelected",function(c){UcJ(b);const d=UcT(2);return UcK(Uc8Ym(d,c))});UcX(1,"lucidPipeValue");UcX(2,"lucidPipeValue");UcX(3,"lucidPipeValue");UcQ()}if(a&2){UcT();a=UcUx(2);const b=UcT();UcO("anchor",a)("showBlankItem",UcY(1,6,b.g3a.Jrl))("repositionTrigger",UcY(2,8,b.NL))("menuOffset",Uc9x(12,Uc6Ym))("shouldPositionMenuAboveTrigger",UcY(3,10,b.mp))("downUpKeyEvent",b.a2a)}}
function Uc9Ym(a){if(a&1){const b=UcI();UcP(0,"div",1)(1,"div",null,2);UcX(3,"lucidPipeValue");UcP(4,"lucid-menu-trigger",3);UcS("triggerMenu",function(){UcJ(b);const c=UcT();return UcK(c.Iwb())})("searchTextChange",function(c){UcJ(b);const d=UcT();return UcK(d.LHc.search(c))})("onKeydown",function(c){UcJ(b);const d=UcT();return UcK(d.I_(c))});UcX(5,"lucidPipeValue");UcX(6,"lucidPipeValue");UcQ()();UcN(7,Uc7Ym,4,13,"lucid-person-shape-search-menu",4);UcX(8,"lucidPipeValue");UcQ()}a&2&&(a=UcT(),UcL(1),
UcU("fuzzy-search-menu-anchor",UcY(3,8,a.expanded)),UcL(3),UcO("text",UcY(5,10,a.label))("searchable",!0)("isSearching",UcY(6,12,a.expanded))("placeholder",a.ha.search)("clickIdentifier",a.ha.ysp),UcL(3),UcO("ngIf",UcY(8,14,a.expanded)))}function Uc8Ym(a,b){return Uca(function*(){const c=b.value,d=a.g3a.ab();d&&(yield a.ICd.ICd(d,c),a.expanded.setValue(!1))})}
var Uc$Ym=class extends Ucg{constructor(){super(...arguments);this.zone=UcF(Ucny);this.rb=UcF(Ucpy);this.pna=UcF(Uc_jf);this.Vh=UcF(Uc_A);this.ICd=UcF(UcvYm);this.user=UcF(Uc2D);this.LHc=UcF(UcxYm);this.g3a=UcF(UcJYm);this.NL=UcF(UcxM).NL;this.mp=UcF(UckN).mp;this.ha={search:i18n.get("people-shape-change-person-search"),ysp:"click-person-shape-search-menu"};this.expanded=new Ucx(this,!1,Ucd);this.isVisible=new Ucw(this,()=>!this.user.iq()&&!!this.g3a.ab(),Ucd);this.label=new UcLs(this,this.ha.search,
this.g3a.$e,a=>{const b=this;return Uca(function*(){if(!a||UcBk(a))return b.ha.search;var c=yield UcAZh(b.pna,a);return c?c.getFullName():(c=b.Vh.v5c(a))?c.co():b.ha.search})},Ucd)}Iwb(){this.expanded.setValue(!this.expanded.value)}I_(a){switch(a.key){case "ArrowUp":case "ArrowDown":case "Enter":this.a2a=a,this.zone.run(()=>this.rb.markForCheck())}}};
Uc$Ym.sa=[{type:Uc_,args:[{Ri:Uc5Ym.id,selector:"lucid-change-person-format-control",templateUrl:"./changepersonformatcontrol.component.html",changeDetection:UcG.OnPush,Ca:!0,imports:[Uc3,Uc$y,UclI,Uc5,UcIYm]}]}];Uc$Ym.ra=function(){let a;return function(b){return(a||(a=UcBx(Uc$Ym)))(b||Uc$Ym)}}();
Uc$Ym.Ia=UcH({type:Uc$Ym,Ea:[["lucid-change-person-format-control"]],Ca:!0,features:[UcM,UcW],Ja:2,Ha:3,La:[["lucidFloatingActionItem","","data-test-id","change-person-format-control",4,"ngIf"],["lucidFloatingActionItem","","data-test-id","change-person-format-control"],["fuzzySearchAnchor",""],[1,"lucid-menu-trigger-no-border",3,"text","searchable","isSearching","placeholder","clickIdentifier","triggerMenu","searchTextChange","onKeydown"],[3,"anchor","showBlankItem","repositionTrigger","menuOffset",
"shouldPositionMenuAboveTrigger","downUpKeyEvent","onItemSelected",4,"ngIf"],[3,"anchor","showBlankItem","repositionTrigger","menuOffset","shouldPositionMenuAboveTrigger","downUpKeyEvent","onItemSelected"]],template:function(a,b){a&1&&(UcN(0,Uc9Ym,9,16,"div",0),UcX(1,"lucidPipeValue"));a&2&&UcO("ngIf",UcY(1,1,b.isVisible))},Ka:[Uc3,Uc2,Uc$y,UcWy,UclI,UcrH,Uc5,Uc3B,UcIYm],styles:[".fuzzy-search-menu-anchor[_ngcontent-%COMP%]{width:240px}"],changeDetection:0});Uc$Ym=__decorate([UcSc],Uc$Ym);var UcaZm=class extends UcML{constructor(){const a=Ucu(UccSh),b=Ucu(Uc8N);super();this.Kbb=Ucu(UcEK);this.VZd=Ucu(UcuYm);this.name="profile-shape-assign-me";this.Fa=new Ucyp(this);this.uva=[a,b]}hover({element:a,Nc:b,zoom:c,uI:d}){if(a){var e=this.GQh(a,b,c);if(e&&!d)return this.ADa&&this.ADa.Ztb===e.Ztb&&Uct.ib(this.ADa.Bb,e.Bb)&&this.ADa.pageId===e.pageId||(this.ADa=e,UctYm(this.VZd,e.Ztb,{box:e.Bb,pageId:e.pageId},()=>{this.ADa=void 0;this.Fa.removeAll()}),this.Fa.removeAll(),this.Fa.listen(this.Kbb,
UcfOg,()=>{UcZJ(this.selection.items,a.id)&&this.VZd.dispatchEvent(new UcsYm)})),!0;if(this.ADa){d=this.ADa.Ztb;if(!d.lb()&&Uct.ib(d.Gf.value,this.ADa.Bb)&&(c=Uct.ug(this.ADa.Bb,16/c),UcAo(b.ob,c)))return!0;this.VZd.dispatchEvent(new UcsYm)}return!1}}GQh(a,b,c){if(a instanceof Uchpl&&!UcZJ(this.selection.items,a.id)&&!a.uV.value&&a.lz(b.ob,c))return{Ztb:a,Bb:a.Gf.value,pageId:b.pageId}}};function UcbZm(a,{element:b,Nc:c}){if(b&&!UcZJ(a.selection.items,b.id)){a:{if(UcZG.ul(b)&&b instanceof Ucppl){b:{var d=Uc1aj(b.layout,c.ob);if(d&&!(25>Ucczj(b)&&d.X1a===b.HEa()-1)){var e=b.pab()[d.X1a];d=UcPEi(b.layout)[d.X1a];if(e&&d){d=Uct.moveBy(Uct.moveBy(e.nAa,b.location.value),d);e={Kcq:e,Bb:d};break b}}e=void 0}if((d=null==e?void 0:e.Kcq)&&d.m1.properties.hasOwnProperty(UcCNe.key)&&(d=d.m1.properties[UcCNe.key])&&(d=UcCk(d))){var f;e=Uct.copy(null!=(f=null==e?void 0:e.Bb)?f:b.Gf.value);e.y+=
a.c_o;c={userId:d.toString(),Bb:e,pageId:c.pageId,pDc:!0};break a}}c=void 0}c?a.rUh(c,c,b):a.ADa&&(a.cZb.dispatchEvent(new UcOMc),a.Fa.removeAll())}}
var UccZm=class extends UcML{constructor(){const a=Ucu(UccSh),b=Ucu(Uc8N);super();this.Kbb=Ucu(UcEK);this.cZb=Ucu(UcQMc);this.Fa=new Ucyp(this);this.DS=!0;this.name="profile-shape-bank-item-hover-state";this.c_o=-8;this.uva=[b,a]}hover(a){UcbZm(this,a);return!1}rUh(a,b,c){Ucu6g(this.ADa,a)&&(this.ADa=a,UcPMc(this.cZb,a.userId,{box:a.Bb,pageId:a.pageId},a.pDc,()=>{this.ADa=void 0}),b&&(this.Fa.removeAll(),this.Fa.ED(this.Kbb,UcfOg,()=>{UcZJ(this.selection.items,c.id)&&this.cZb.dispatchEvent(new UcOMc)})));
return!0}};UcTK("peopleview","people",class extends Ucg{constructor(){const a=Ucu(Uclrh),b=Ucu(Ucurh),c=Ucu(UcAYm),d=Ucu(UcaZm),e=Ucu(UcXxk),f=Ucu(UcRYm),g=Ucu(UcYYm),h=Ucu(Uc4Ym),k=Ucu(Uc5rb),l=Ucu(UccZm),m=Ucu(Uc2D),n=Ucu(UctNg);super();this.$y=Ucu(Ucgr);this.ni=Ucu(UcoL);this.Jh=Ucu(Uc8e);this.Gfb=Ucu(Ucszk);this.K1=Ucu(Uc9N);this.g3a=Ucu(UcJYm);this.sNp=Ucu(UcwYm);UcnYm(a,({properties:p,x:q,y:r,page:t})=>{p=Object.assign({},p,Ucipl);if(q=b.OG(Uchpl.className,Ucgpl.w,Ucgpl.h,p,q,r))return t.blocks.get(q)});
UcdO(this.$y,{className:Uchpl.className,KS:["people-change-person","people-update-photo","people-start-comment-thread","people-invite-person"],ECa:["people-change-person","tridot"],WId:["comments"]});Uc7e(this.Jh,{Fh:[Uc$Ym],module:Uc$Ym});Uc7e(this.Jh,{Fh:[Uc0Ym],module:Uc0Ym});Uc7e(this.Jh,{Fh:[UcVYm],module:UcVYm});this.Gfb.n0([{K$:"people-change-person",yga:"ShapeSpecific",Wna:{Gl:Uc$Ym,ZD:this.g3a.oi},pka:{constructor:Uc$Ym}}]);this.K1.n0([{control:"people-update-photo",constructor:UcQYm},{control:"people-start-comment-thread",
constructor:Uc0Ym},{control:"people-invite-person",constructor:UcVYm}]);UcnL(this.ni,UcrMc,UcmL.e2j,{Jf:this.g3a.oi});this.sNp.hc.Ao("FY25Q4_ProfileShapeBank")&&(!n.Eq()&&m.Kp.value.Ah(Uckf.nJm)&&e.register({sYe:[UcFg.aZg]}),f.initialize(),g.initialize(),h.initialize());c.init();for(const p of d.uva)p.eJa(d);for(const p of l.uva)p.eJa(l);k.register(this)}MA(){return UcSYm()}});
//# sourceURL=/js/application/universalcanvas_app/chunk/peopleview.js?compiled=1
