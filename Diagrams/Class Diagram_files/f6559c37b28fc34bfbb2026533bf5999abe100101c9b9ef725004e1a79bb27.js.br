UcgRf.prototype.zIe=Ucca(444,function(){const a=this;return Uca(function*(){return a.user.yJ()?UcvVb.B4b:UcvVb.H1j})});UcLVf.prototype.zIe=Ucca(443,function(){const a=this;return Uca(function*(){if(a.user.yJ())return UcvVb.B4b;if(yield a.pIb.OOe())return UcvVb.H1j;if(yield a.zab.V6f())return UcvVb.O4m})});function UcUal(a,b,c){return Uca(function*(){const d=yield a.yMp.main({sb:b})({body:c});Ucwv(d)})}
function UcVal(a,b,c,d){return Uca(function*(){const e={operation:Uctsc.Bfe,parameters:new UcZ6b({users:c,groupId:b})};return UcUal(a,d,e)})}function UcWal(a,b,c){return Uca(function*(){if(yield a.JCb.k8e()){var d=yield a.zIe();a.$a.fireEvent(new Ucrkc({action:c,Y2a:b,userId:a.user.getId(),H5a:d}))}})}function UcXal(a,b){return Uca(function*(){return(yield UcURf(a)).get(b)})}function UcYal(a){return Uca(function*(){return a.GWl})}function UcZal(a){a.FSe.start();return a.cache}
function Uc$T(a){return Uca(function*(){yield a.FSe;return a.cache})}var Uc_al=class{constructor(a,b){this.cache=a;this.hTp=b;this.FSe=new Uc3ka(()=>this.hTp(this.cache))}};var Uc1al=class extends UcWn{constructor(){super()}tW(){this.dispatchEvent(new Uc0al)}},Uc0al=class extends Ucig{constructor(){super(Uc0al.id)}};Uc0al.id=Ucaf(Uc0al);var Uc2al=class extends Ucig{constructor(){super(Uc2al.id)}};Uc2al.id=Ucaf(Uc2al);var Uc3al=class extends Ucig{constructor(){super(Uc3al.id)}};Uc3al.id=Ucaf(Uc3al);var Uc4al=class extends Ucig{constructor(){super(Uc4al.id)}};Uc4al.id=Ucaf(Uc4al);var Uc5al=class extends UcEg{constructor(a){super(Uc5al.id);this.requests=a}};Uc5al.id=Ucaf(Uc5al);
var Uc6al=class extends Ucig{constructor(a){super(Uc6al.id);this.groupId=a}};Uc6al.id=Ucaf(Uc6al);var Uc7al=class extends UcEg{constructor(a){super(Uc7al.id);this.params=a}};Uc7al.id=Ucaf(Uc7al);var Uc8al=class extends Ucig{constructor(a,b){super(Uc8al.id);this.RQ=a;this.groupId=b}};Uc8al.id=Ucaf(Uc8al);var Uc9al=class extends Ucig{constructor(a){super(Uc9al.id);this.group=a}};Uc9al.id=Ucaf(Uc9al);var Uc$al=class extends Ucig{constructor(a,b){super(Uc$al.id);this.users=a;this.h5i=b}};Uc$al.id=Ucaf(Uc$al);var Ucabl=class{constructor(a){this.Eb=a;this.pBc=new UcIt(this.Eb);this.ahf=new UcIt(this.Eb);this.ZIk=new Ucx(this.Eb,[],Ucd)}h7e(a,b){const c=new Map;a.forEach(f=>{const g=this.ahf.get(f);null!=g&&UcRg(c,g,h=>{h.add(f);return h},()=>new Set([f]));this.ahf.set(f,b)});c.forEach((f,g)=>{let h;const k=(null!=(h=this.pBc.get(g))?h:[]).filter(l=>!f.has(l));this.pBc.set(g,k)});let d;const e=null!=(d=this.pBc.get(b))?d:[];this.pBc.set(b,[...a,...e])}zTh(a){let b,c;return 0<(null!=(c=null==(b=this.pBc.get(a))?
void 0:b.length)?c:0)}};var Ucbbl=class extends Ucg{constructor(){super(...arguments);this.B0a=new UcKOb([],{keys:[{name:"display-name",V7:a=>a.name}]});this.Fa=new Ucyp(this);this.BS="";this.results=new Ucx(this,[],Uceg)}get ze(){return this.BS}isEmpty(){return 0===this.B0a.QC().length}search(a){this.BS=a;a=this.B0a.search(this.BS,{limit:20}).map(b=>b.item);this.results.setValue(a)}Ou(){this.BS="";this.results.setValue([])}CDc(){}};function Uccbl(a,b,c){return Uca(function*(){const d=yield Uc$T(a.yRa);a.bWi.dispatchEvent(new Uc8al(b,c));d.h7e(b,c);yield Ucdbl(a)})}function Ucdbl(a){return Uca(function*(){const b=yield Uc$T(a.yRa),c=(yield UcYal(a.pIb)).groups.flatMap(d=>{let e;return null!=(e=b.pBc.get(d))?e:[]});b.ZIk.setValue(c)})}
var Ucebl=class extends Ucg{constructor(){super();this.Xza=Ucu(UcL0e);this.EJ=Ucu(UcZRf);this.pIb=Ucu(UcjSf);this.bWi=Ucu(Uc1al);this.Xg=Ucu(UcVB);this.$Xe=Ucu(UcgRf);this.Fa=new Ucyp(this);this.KSo=new UcGt(this,()=>this.EJ.HOb.cf(),a=>UcZal(this.yRa).zTh(a));new UcGt(this,()=>this.EJ.HOb.cf(),a=>{a=UcWRf(this.EJ,[a]);return Array.from(a).some(b=>this.KSo.get(b))});this.sb=this.Xg.kp().then(a=>a.id);this.yRa=new Uc_al(new Ucabl(this),a=>{const b=this;return Uca(function*(){var c=yield b.sb;const d=
(yield UcURf(b.EJ)).Rb(),e=yield UcYal(b.pIb),f=yield UcJ0e(b.Xza,c,d.map(g=>g.id));f.forEach((g,h)=>a.h7e(g,h));c=e.groups.flatMap(g=>{let h;return null!=(h=f.get(g))?h:[]});a.ZIk.setValue(c)})});this.Fa.listen(this.EJ,Uc_Rf.id,({group:a})=>{const b=this;return Uca(function*(){const c=yield b.Xza.ySh(a.sb,a.id);yield Uccbl(b,c,a.id)})})}get yQq(){return UcZal(this.yRa).ahf}vQh(a){const b=this;return Uca(function*(){const c=(yield Uc$T(b.yRa)).ahf.get(a);if(null==c)throw Error(`No organizational group found for user ${a}`);
const d=yield UcXal(b.EJ,c);if(!d)throw Error(`No organizational group record found for id ${c}`);return d})}Sol(a){const b=this;return Uca(function*(){let c;return null!=(c=(yield Uc$T(b.yRa)).pBc.get(a))?c:[]})}zTh(a){const b=this;return Uca(function*(){return(yield Uc$T(b.yRa)).zTh(a)})}h7e(a,b,c=!0){const d=this;return Uca(function*(){if(0!==a.length){var e=yield d.sb;yield UcVal(d.Xza,b,a,e);c&&(yield UcWal(d.$Xe,b,UccXb.OJm));yield Uccbl(d,a,b)}})}};
//# sourceURL=/js/application/universalcanvas_app/chunk/gen_1000000000000000000000000008000000000000000000000000000000000000000000.js?compiled=1
